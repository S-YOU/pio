language: ruby

before_install: gem update bundler
bundler_args: --without development

env:
  global:
    - secure: "JVaFKDaJWWyBJAejWLvERmci+VyVtTc8iKl8RMdjtrg0rQEIL6zKQbPOti5M+gKyQDfOWrlLwKtgeH3Q1ZYpptrit3EugCx9D6/JsgZNQad51JF1cQTbV26AiVqunCQA7CrkqNGilCVmipeWhVZS+9k5sjTKuflrBaEkH63WOi0="

rvm:
  - 1.9.3
  - 2.0.0
  - 2.1.0
  - ruby-head

branches:
  only:
    - master
    - develop

matrix:
  allow_failures:
    - rvm: 2.1.0
    - rvm: ruby-head
  fast_finish: true

script: bundle exec rake travis

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/ce8abcdff1f9c912333f
    on_success: alawys  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: always    # default: false
